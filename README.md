# Admin Panel Documentation

## Survey Creation System

### Table of Contents

**User Documentation**
- Getting Started
- Forms Management
- Questions Management
- Answers Management
- Additional Features

**Technical Documentation**
- Architecture Overview
- Technology Stack
- Project Structure
- API Integration
- State Management
- Routing
- Development Guide

---

## User Documentation

### Getting Started

#### Accessing the Admin Panel

Navigate to the admin panel URL: https://survey.luden-labs.com/admin

Login by credentials:
- **Email:** admin@gmail.com
- **Password:** string

#### Navigation

The admin panel has a sidebar navigation menu with the following sections:

- **Forms** - Manage survey forms
- **Answers** - View submitted answers
- **Interviewers** - Manage interviewers
- **Images** - Manage images library
- **Application** - Manage applications
- **Contacts** - Manage contacts
- **Contact Info** - Manage contact information
- **Custom Forms** - Manage custom forms
- **Custom Form Responses** - View custom form responses
- **Audio** - Manage audio files
- **Interviewer Pages** - Manage interviewer pages
- **Agent Pages** - Manage agent pages

**Forms (Формы)**

Главный раздел для конфигурации и просмотра форм опросов. Здесь создаются, редактируются и управляются все формы системы.

**Answers (Ответы)**

Раздел для просмотра ответов, отправленных пользователями на формы. Позволяет анализировать собранные данные.

**Interviewers (Интервьюеры)**

Управление интервьюерами — пользователями, которые отвечают на формы. Здесь ведется список и настройки интервьюеров.

**Images (Изображения)**

Библиотека изображений системы. Хранит все используемые в приложении изображения.

**Applications (Приложения)**

Управление приложениями, которые можно связывать с формами для создания уникальных форм для внутренних и сторонних приложений.

**Contacts (Контакты)**

Страница управления контактами системы.

**Contact Info (Контактная информация)**

Раздел для управления контактной информацией, отображаемой в консессной форме.

**Custom Forms (Пользовательские формы)**

Миниформы в консессной форме для связи или других задач. Позволяют создавать дополнительные формы для специфических целей.

**Custom Form Responses (Ответы на пользовательские формы)**

Просмотр ответов на пользовательские формы. Анализ данных, собранных через Custom Forms.

**Audio (Аудио)**

Управление аудиофайлами: записи, связанные с ответами на формы, или аудио, записанные в системе.

**Interviewer Pages (Страницы интервьюера)**

Страница для настройки обязательных полей для интервьюера. Можно указать поля: почта, email, телефон, адрес проживания и другие.

**Agent Pages (Страницы агентов)**

Управление AI-агентами, используемыми для промптов в основной форме. Агенты помогают интервьюеру получать ответы от AI на основе ответов, данных в основной форме.

---

## Forms Management

### Создание новой формы — Описание полей

#### Введение

Это руководство описывает все поля и настройки, доступные при создании новой формы в админ-панели. Форма — основной инструмент для сбора ответов от интервьюеров. Здесь можно настроить структуру, внешний вид, язык, связать с AI-агентами, приложениями и дополнительными элементами (контактная информация, пользовательские формы, логотипы партнёров).

Документ разделён на три части:
1. Основные поля формы
2. Дополнительные настройки формы
3. Поля для вопросов

---

### Основные поля формы

#### 1. Название формы (title)

- **Тип:** Текстовое поле
- **Обязательное:** Да
- **Описание:** Название формы, отображаемое пользователям
- **Пример:** "Опрос удовлетворенности клиентов"

#### 2. ID агента (agentId)

- **Тип:** Текстовое поле
- **Обязательное:** Нет
- **Описание:** Уникальный идентификатор агента или организации
- **Примечание:** Используется для связи с агентами Ministral Ai

#### 3. ID кастомного агента (customAgentId)

- **Тип:** Выпадающий список
- **Обязательное:** Нет
- **Описание:** Выбор AI-агента из списка созданных агентов
- **Примечание:** Если выбран, используется вместо agentId

#### 4. Язык формы (language)

- **Тип:** Выпадающий список
- **Обязательное:** Да
- **Варианты:**
  - Английский (en)
  - Иврит (he)
  - Русский (ru)
  - Арабский (ar)
- **Описание:** Язык интерфейса формы

#### 5. Приложение (applicationId)

- **Тип:** Выпадающий список
- **Обязательное:** Нет
- **Описание:** Привязка формы к приложению для создания уникальных форм для внутренних и сторонних приложений
- **Примечание:** Можно очистить выбор

#### 6. Показать страницу ввода кода (showCodePage)

- **Тип:** Чекбокс
- **Обязательное:** Нет
- **Описание:** Показывать страницу ввода кода перед началом формы
- **По умолчанию:** Выключено

#### 7. Логотипы партнёров (partnerLogos)

- **Тип:** Множественный выбор изображений (карусель)
- **Обязательное:** Нет
- **Описание:** Логотипы партнёров, отображаемые на форме
- **Примечание:** Выбираются из группы изображений "logos"

#### 8. Пользовательские формы (customFormIds)

- **Тип:** Множественный выбор
- **Обязательное:** Нет
- **Описание:** Дополнительные миниформы, добавляемые к основной форме
- **Примечание:** Используются для контактных данных или других задач

#### 9. Контактная информация (contactsInfoId)

- **Тип:** Выпадающий список
- **Обязательное:** Нет
- **Описание:** Контактная информация для отображения на форме
- **Варианты:** "Нет" или выбранная контактная информация

#### 10. Страница интервьюера (interviewerPageId)

- **Тип:** Выпадающий список
- **Обязательное:** Нет
- **Описание:** Страница с обязательными полями для интервьюера (email, телефон, адрес и т.д.)
- **Варианты:** "Нет" или выбранная страница интервьюера

#### 11. URL условий использования (termOfServiceUrl)

- **Тип:** Текстовое поле (URL)
- **Обязательное:** Нет
- **Описание:** Пользовательский URL условий использования
- **Примечание:** Если не указан, используется стандартная страница

---

### Дополнительные настройки формы

#### 12. Стартовый шаблон (startMarkup)

- **Тип:** Многострочное текстовое поле
- **Обязательное:** Нет
- **Описание:** HTML или текст, отображаемый в начале формы
- **Пример:** Приветственное сообщение или инструкции

#### 13. Финальный шаблон (endMarkup)

- **Тип:** Многострочное текстовое поле
- **Обязательное:** Нет
- **Описание:** HTML или текст, отображаемый в конце формы
- **Пример:** Благодарность или дополнительная информация

#### 14. Без отзыва от ИИ (withOutAiFeedback)

- **Тип:** Переключатель (Switch)
- **Обязательное:** Нет
- **Описание:** Отключает отображение отзыва от AI пользователю
- **По умолчанию:** Выключено
- **Примечание:** Взаимоисключающий с "С подсчетом баллов"

#### 15. С подсчетом баллов (withPointsSummary)

- **Тип:** Переключатель (Switch)
- **Обязательное:** Нет
- **Описание:** Включает систему подсчета баллов
- **По умолчанию:** Выключено
- **Как использовать:**
  1. Назначьте баллы каждому варианту ответа в вопросах
  2. После отправки пользователи увидят:
     - Общий балл
     - График сравнения с другими
     - Детальную разбивку ответов
- **Примечание:** Взаимоисключающий с "Без отзыва от ИИ"

#### 16. Заголовок сводки баллов (pointsSummaryTitle)

- **Тип:** Текстовое поле
- **Обязательное:** Нет (отображается только если включен "С подсчетом баллов")
- **Описание:** Пользовательский заголовок для раздела сводки баллов
- **Примечание:** Если не указан, используется стандартный заголовок

---

### Поля для вопросов

Каждый вопрос в форме содержит следующие поля:

#### 17. Текст вопроса (question_text)

- **Тип:** Текстовое поле
- **Обязательное:** Да
- **Описание:** Основной текст вопроса, который увидит пользователь
- **Пример:** "Как вы оцениваете качество обслуживания?"

#### 18. Подтекст вопроса (question_sub_text)

- **Тип:** Текстовое поле
- **Обязательное:** Нет
- **Описание:** Дополнительная информация или подсказка к вопросу
- **Пример:** "Выберите один вариант из списка"

#### 19. Тип вопроса (question_type)

- **Тип:** Выпадающий список
- **Обязательное:** Да
- **Варианты:**
  - **INPUT** — Текстовое поле (произвольный текст)
  - **NUMBER** — Числовое поле
  - **OPTION** — Одиночный выбор (один вариант)
  - **MULTI_OPTION** — Множественный выбор (несколько вариантов)
  - **CHECKBOX** — Чекбокс (да/нет)
  - **AUDIO** — Аудио (только аудиозапись)
  - **AUDIO_OR_TEXT** — Аудио или текст (на выбор)
- **Описание:** Определяет тип ответа, который может дать пользователь

#### 20. Тип отображения (question_display_type)

- **Тип:** Выпадающий список
- **Обязательное:** Да
- **Варианты:**
  - **TEXT_INPUT** — Текстовое поле (однострочное)
  - **TEXT_AREA** — Текстовая область (многострочное)
  - **SLIDER** — Слайдер (выбор значения ползунком)
  - **NUM_PAD** — Цифровая клавиатура
  - **NUMBER_KEYBOARD** — Числовая клавиатура
  - **CARD** — Карточка (варианты в виде карточек)
  - **FULL_CARD** — Полная карточка
  - **CHECKBOX** — Чекбокс
  - **AUDIO_RECORDER** — Диктофон
- **Описание:** Определяет визуальное отображение вопроса
- **Примечание:** Доступные варианты зависят от выбранного типа вопроса. Выбор изображения для опции доступен только при типе отображения "CARD"

#### 21. ID изображения (question_image_id)

- **Тип:** Выбор изображения
- **Обязательное:** Нет
- **Описание:** Изображение, отображаемое вместе с вопросом
- **Примечание:** Выбирается из библиотеки изображений

#### 22. Минимальное значение (minValue)

- **Тип:** Числовое поле
- **Обязательное:** Нет (отображается для числовых вопросов и слайдеров)
- **Описание:** Минимальное значение, которое может выбрать пользователь
- **По умолчанию:** 0

#### 23. Максимальное значение (maxValue)

- **Тип:** Числовое поле
- **Обязательное:** Нет (отображается для числовых вопросов и слайдеров)
- **Описание:** Максимальное значение, которое может выбрать пользователь
- **По умолчанию:** 10

#### 24. Метка минимума (minLabel)

- **Тип:** Текстовое поле
- **Обязательное:** Нет (отображается для числовых вопросов и слайдеров)
- **Описание:** Текстовая метка для минимального значения
- **Пример:** "Мало", "Неудовлетворительно"

#### 25. Метка максимума (maxLabel)

- **Тип:** Текстовое поле
- **Обязательное:** Нет (отображается для числовых вопросов и слайдеров)
- **Описание:** Текстовая метка для максимального значения
- **Пример:** "Много", "Отлично"

#### 26. Варианты ответа (options)

- **Тип:** Список вариантов (для типов OPTION, MULTI_OPTION, CHECKBOX)
- **Обязательное:** Да (если выбран соответствующий тип вопроса)
- **Поля для каждого варианта:**
  - **Текст варианта** (option_text) — текст варианта ответа
  - **Изображение варианта** (option_image_url) — изображение для варианта (только для типа отображения "CARD")
  - **Баллы** (point) — количество баллов за выбор этого варианта (только если включен "С подсчетом баллов")
- **Действия:**
  - Добавить вариант
  - Удалить вариант
- **Примечание:** Для типов OPTION, MULTI_OPTION, CHECKBOX необходимо добавить хотя бы один вариант ответа

#### 27. Добавить вариант "Другое" (has_other_option)

- **Тип:** Чекбокс
- **Обязательное:** Нет (отображается для типов OPTION, MULTI_OPTION)
- **Описание:** Добавляет опцию "Другое" с возможностью ввода произвольного текста
- **Примечание:** Доступно только для вопросов с вариантами ответа

---

### Дополнительная информация

#### Управление вопросами

- **Добавить вопрос:** Кнопка "Добавить вопрос" внизу списка вопросов
- **Удалить вопрос:** Кнопка "Удалить" в каждом вопросе
- **Порядок вопросов:** Вопросы отображаются в порядке их добавления (step)

#### Валидация

- Название формы обязательно для заполнения
- Для вопросов типа OPTION, MULTI_OPTION, CHECKBOX необходимо добавить хотя бы один вариант ответа
- URL условий использования должен быть валидным URL (если указан)

#### Сохранение формы

- **Создать форму:** Создает новую форму с указанными параметрами
- **Сохранить изменения:** Сохраняет изменения в существующей форме
- **Отмена:** Отменяет изменения и возвращает к списку форм

---

**Document Version:** 1.0  
**Last Updated:** 2024  
**Maintained by:** Development Team



